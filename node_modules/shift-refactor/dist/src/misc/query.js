"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.matches = exports.query = void 0;
const util_1 = require("util");
const { query: shiftQuery, matches: queryMatches, parse: queryParse } = require('shift-query');
function query(tree, query) {
    const trees = util_1.isArray(tree) ? tree : [tree];
    const queries = util_1.isArray(query) ? query : [query];
    return trees.flatMap(node => queries.flatMap(query => shiftQuery(node, query)));
}
exports.query = query;
function matches(node, query) {
    const selectorAst = queryParse(query);
    return queryMatches(node, selectorAst);
}
exports.matches = matches;
//# sourceMappingURL=query.js.map